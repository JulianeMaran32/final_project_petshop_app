<section class="forgot-password">
  <h2 id="forgotPasswordTitle">Esqueceu sua Senha?</h2>
  <p>Informe seu e-mail para receber instruções de recuperação.</p>
  
  <!-- Formulário de Esqueceu a Senha -->
  <form [formGroup]="forgotPasswordForm" 
      (ngSubmit)="onSubmit()" 
      class="forgot-password-form" 
      novalidate 
      aria-labelledby="forgotPasswordTitle"
      role="form">
  
    <!-- E-mail -->
    <div class="form-group">
    <label for="forgotEmail">Email</label>
    <div class="input-wrapper">
      <i class="pi pi-envelope" aria-hidden="true" aria-label="Email icon"></i>
      <input
      id="forgotEmail"
      type="email"
      formControlName="email"
      placeholder="Seu email"
      aria-required="true"
      [attr.aria-invalid]="isControlInvalid('email')"
      [attr.aria-describedby]="isControlInvalid('email') ? 'forgotEmailError' : null"
      tabindex="0" />
    </div>
    <div id="forgotEmailError" 
       class="error-message" 
       *ngIf="isControlInvalid('email')" 
       aria-live="assertive"
       role="alert">
      {{ getErrorMessage('email') }}
    </div>
    </div>
  
    <!-- Botão de enviar com indicador de carregamento -->
    <button
    type="submit" pRipple
    class="btn-primary"
    [disabled]="isSubmitting || !forgotPasswordForm.valid"
    [attr.aria-busy]="isSubmitting"
    aria-live="polite"
    tabindex="0">
    <span *ngIf="!isSubmitting">Enviar Instruções</span>
    <span *ngIf="isSubmitting">
      <i class="pi pi-spin pi-spinner" aria-hidden="true" aria-label="Loading icon"></i> 
      Enviando...
    </span>
    </button>    
  
    <!-- Link para voltar ao login -->
    <nav class="links" aria-label="Forgot password options">
    <a routerLink="/login" aria-label="Back to login" tabindex="0">Voltar ao Login</a>
    </nav>
  </form>
  
  <!-- Mensagens de erro -->
  <div class="card error-messages message-spacing">
    <p-messages aria-live="assertive" aria-atomic="true"></p-messages>
  </div>
</section>